<!DOCTYPE html>
<html>

<head>
	<title>Passenger Portal</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<style>
		table,
		th,
		td {
			border: 1px solid black;
			border-collapse: collapse;
			width: 100%;
			text-align: center;
			table-layout: fixed;
		}

		
	</style>
</head>

<body>

	<center>
		<h1>Passenger Portal</h1>

	</center>

	<a href="http://localhost:8083/logout">Logout</a>
	<p th:text="'Passenger ID:   '+${id}" />
	<p th:text="'Passenger Name: '+${name}" />

	<!--	<h3 style="background-color: cyan;" th:text="${message}"></h3> -->

	<h1>Menu</h1>
	<a th:href="@{/passenger/modifyprofile/{id}(id=${id})}">My Profile</a>
	<a th:href="@{/passenger/busschedules/{id}(id=${id})}">Bus Schedules</a>
	<a th:href="@{/passenger/booking/{id}(id=${id})}">Booking History</a>

	<br>
	<br>
	<h1>Browse and Book Bus Tickets</h1>
	<form role="form" method="get" action="/passenger/busschedules">

		<td><label for="sDate">Journey Date:</label></td>
		<td><input id="sDate" type="date" name="sDate" required /></td>

		<!--		
		<td><label for="fromLoc">From:</label></td>
		<td><input id="fromLoc" type="text" name="fromLoc" /></td>

		<td><label for="toLoc">To:</label></td>
		<td><input id="toLoc" type="text" name="toLoc" /></td>
		-->

		<td>
			<label for="fromLoc">From Location:</label>
			<select name="fromLoc">
				<option th:each="f : ${from}" th:value="${f}" th:text="${f}" required>
				</option>
			</select>
		</td>

		<td>
			<label for="toLoc">To Location:</label>
			<select name="toLoc">
				<option th:each="t : ${to}" th:value="${t}" th:text="${t}" required>
				</option>
			</select>
		</td>
		<td><input type="submit" value="Search"></td>

	</form>

	<h1>My Current Bookings</h1>
	<center>
		<table>
			<thead>
				<!-- Not needed 
				<th>Bus ID</th>
				-->
				<th>Booked Date</th>
				<th>Bus Id</th>
				<th>Bus Name</th>
				<th>Seats Qty</th>
				<th>Price</th>
				<th>Total Amount</th>
				<th>Action</th>

			</thead>
			<tr th:each="booking : ${bookings}">

				<td th:text="${booking.bookedTime}"></td>
				<td th:text="${booking.busId}"></td>
				<td th:text="${booking.busName}"></td>
				<td th:text="${booking.seatQty}"></td>
				<td th:text="${booking.price}"></td>
				<td th:text="${booking.amount}"></td>

				<!-- Add Pdf later -->
				<td>
					<button style="background-color: green; ">
						<a style="color: white;">E - Receipt Download</a>
					</button>
				</td>
			</tr>
		</table>
	</center>
</body>

</html>